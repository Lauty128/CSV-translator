import{table as e,inherited_table as t,count_rows_columns as a}from"./table.js";let Table;if("/table"==window.location.pathname||"/intervals"==window.location.pathname){if(localStorage.getItem("table_data")){let l=JSON.parse(localStorage.getItem("table_data"));console.log(l);let{rows:n,columns:o}=a(l);(Table=new t(n,o)).printData(l),localStorage.removeItem("table_data")}else Table=new e}document.querySelector(".TableContainer").addEventListener("click",e=>{let{target:t}=e;switch(t.getAttribute("id")){case"newRow_button":Table.newRow(e);break;case"newColumn_button":Table.newColumn(e);break;case"cancelTable":Table.reset();break;case"comeBackButton":window.location.href="/"}}),"/submit"==window.location.pathname&&document.getElementById("input_file").addEventListener("change",async e=>{e.preventDefault();let t=new FormData(document.getElementById("Table")),a=await fetch("/api/submit",{method:"post",body:t}).then(e=>e.json());if(200===a.status)localStorage.setItem("table_data",JSON.stringify(a.data)),window.location.href="/table";else throw Error("Ocurrio un error al subir el archivo")});